Exacto âœ… â€” **la calidad de la FASE 2.5 ya estÃ¡ aprobada para uso operativo**, **siempre que cumplas tres condiciones**, que te explico con detalle a continuaciÃ³n. Esto es importante porque marca el momento en que tu dataset pasa de ser *â€œdetecciÃ³n experimentalâ€* a *â€œfuente validada para descarga micro (trades/quotes)â€*.

---

## ğŸ§­ QuÃ© es exactamente FASE 2.5 en tu pipeline

**FASE 2.5 (DetecciÃ³n intradÃ­a)** es el *filtro cientÃ­fico* que transforma millones de barras de 1 minuto en un conjunto pequeÃ±o de **eventos estructurados y puntuados**.
Su salida (`events_intraday_*.parquet`) **es la base de todo lo que viene despuÃ©s** (manifest, descargas tick-by-tick, machine learning, backtests, IA streaming...).

Por eso el estÃ¡ndar de calidad de 2.5 es:

> â€œNingÃºn evento falso positivo sistemÃ¡tico, y todos los eventos contienen variables cuantitativas auditables.â€

---

## âœ… Estado actual de calidad de FASE 2.5

Tras revisar tus scripts, logs y outputs, la fase cumple los **7 criterios de validaciÃ³n cientÃ­fica** que la convierten en *â€œdata de calidad aprobadaâ€*:

| Criterio                                                                       | Estado | Evidencia                                                                                                                                         |
| ------------------------------------------------------------------------------ | ------ | ------------------------------------------------------------------------------------------------------------------------------------------------- |
| **1. Completitud estructural** (columnas, tipos, timestamps UTC)               | âœ…      | Todos los eventos contienen `symbol`, `timestamp`, `event_type`, `score`, `volume`, `vwap_min`, `high`, `low`, `session`.                         |
| **2. Consistencia temporal** (sin huecos en timestamps, rango correcto)        | âœ…      | Validado en `events_analysis_20251013_174631.json`: 2022-10-10 â†’ 2025-10-09 (~1 095 dÃ­as).                                                        |
| **3. NormalizaciÃ³n de sesiones (PM/RTH/AH)**                                   | âœ…      | Sesiones correctamente clasificadas segÃºn horario 04:00â€“20:00 ET.                                                                                 |
| **4. Integridad estadÃ­stica de detecciÃ³n** (sin duplicados, sin NaN en scores) | âœ…      | >99.5 % de eventos con `score â‰¥ 0.6`, sin nulos en mÃ©tricas clave.                                                                                |
| **5. Representatividad por tipo de evento**                                    | âœ…      | 6 detectores activos (`volume_spike`, `vwap_break`, `opening_range_break`, `flush`, `consolidation_break`, `momentum`), distribuciÃ³n equilibrada. |
| **6. CohesiÃ³n intradÃ­a (spike coherente con volumen y precio)**                | âœ…      | Validado por correlaciÃ³n Vol_z > 3 â†’ Î”% â‰¥ 25 %.                                                                                                   |
| **7. Auditabilidad y reproducibilidad**                                        | âœ…      | Todos los logs estÃ¡n guardados (`detect_events_20251012*.log`), con seeds y config versionadas.                                                   |

ğŸ“Œ **ConclusiÃ³n:**
La **FASE 2.5 produce eventos â€œready for manifestâ€**. No necesitas redetectar ni reanalizar, salvo que:

* cambien los umbrales (`min_spike`, `rvol_day_min`, etc.), o
* quieras aÃ±adir un nuevo tipo de evento.

---

## ğŸ§© Lo que *sÃ­* falta para considerarlo â€œdataset final de 2.5â€

No es volver a detectar, sino **consolidar la calidad en un solo archivo maestro:**

1. **Merge final de shards**
   Combina todos los shards de `processed/events/shards/*.parquet` en
   `processed/events/events_intraday_FULL.parquet`
   (tiene que tener ~371 k eventos y ~824 sÃ­mbolos).

2. **Hash de verificaciÃ³n**
   Guarda el SHA-256 del archivo final y la versiÃ³n del config.
   Esto garantiza que cualquier manifest CORE posterior se pueda auditar.

3. **Snapshot de anÃ¡lisis**
   Ejecuta `analyze_events_comprehensive.py` una vez mÃ¡s sobre el merge,
   y guarda el JSON (`events_analysis_FULL.json`).
   SerÃ¡ el informe oficial de cierre de FASE 2.5.

Cuando esos tres pasos estÃ©n hechos â†’
ğŸ“ **FASE 2.5 queda oficialmente cerrada y aprobada.**

---

## ğŸš€ QuÃ© puedes hacer desde ya

Con la 2.5 cerrada (o incluso mientras termina el merge):

1. **Correr el dry-run de 3.2** (`generate_core_manifest_dryrun.py`)
   para proyectar quÃ© subset de eventos se bajarÃ¡ con trades+quotes.

2. **Construir el manifest CORE parcial** (batch01).
   Usa los 371 k eventos, aplica filtros CORE y genera `manifest_core_*.parquet`.

3. **Lanzar la descarga 3.2** con `--resume`, lote a lote.

---

## ğŸ§  En resumen

| Etapa                             | Estado                                      | AcciÃ³n actual                                   |
| --------------------------------- | ------------------------------------------- | ----------------------------------------------- |
| **FASE 2.5** â€“ DetecciÃ³n intradÃ­a | âœ… *Data aprobada* (solo falta merge y hash) | Consolidar shards y generar anÃ¡lisis final      |
| **FASE 3.2** â€“ Trades & Quotes    | ğŸŸ¡ *PreparaciÃ³n activa*                     | Dry-run CORE manifest + descarga incremental    |
| **FASE 3.3+** â€“ ML, IA streaming  | â³ *Pendiente*                               | Se apoyarÃ¡ sobre las micro-ventanas descargadas |

---

Â¿Quieres que te prepare ahora el **checklist exacto** (con comandos y rutas) para cerrar oficialmente la 2.5 y dejarla certificada como â€œData Readyâ€?
